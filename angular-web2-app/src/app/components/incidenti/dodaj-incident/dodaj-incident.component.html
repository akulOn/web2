<div class="container" style="margin-top: 55px;">
    <div class="row">
        <div class="col-md-4">
            <div class="row btn-group-vertical w-100">
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#dodajIncidentForm" aria-expanded="true" aria-controls="dodajIncidentForm">Dodaj incident</button>
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#opremaTable" aria-expanded="false" aria-controls="opremaTable">Tabela oprema</button>
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#dodajResenjeForm" aria-expanded="false" aria-controls="dodajResenjeForm">Dodaj resenje</button>
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#pozivTable" aria-expanded="false" aria-controls="pozivTable">Tabela poziv</button>
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#dodajPozivForm" aria-expanded="false" aria-controls="dodajPozivForm">Dodaj poziv</button>
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#ekipaTable" aria-expanded="false" aria-controls="ekipaTable">Tabela ekipa</button>
                <button class="btn btn-block btn-outline-dark" data-toggle="collapse" data-target="#slika" aria-expanded="false" aria-controls="slika">Slika</button>
            </div>
        </div>
        <div class="col-md-8">
            <form class="collapse show" id="dodajIncidentForm" [formGroup]="dodajIncidentForm" (ngSubmit)="onSubmit()">
                <div class="row">
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="tipIncidenta">Tip Incidenta</label>
                        <select required id="tipIncidenta" class="form-control" formControlName="tipIncidenta">
                          <option>Planirani</option>
                          <option>Neplanirani</option>
                        </select>
                    </div>
        
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="ETA">ETA</label>
                        <input [(ngModel)]="this.ETA" required class="form-control" id="ETA" type="date" formControlName="ETA">
                    </div>
                </div>
        
                <div class="row">
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="prioritet">Prioritet</label>
                        <input required class="form-control" id="prioritet" type="number" formControlName="prioritet" placeholder="0">
                    </div>
        
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="ATA">ATA</label>
                        <input [(ngModel)]="this.ATA" required class="form-control" id="ATA" type="date" formControlName="ATA">
                    </div>
                </div>
        
                <div class="row">
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="statusIncidenta">Status</label>
                        <select id="statusIncidenta" class="form-control" formControlName="statusIncidenta">
                          <option>Resen</option>
                          <option>drafted</option>
                          <option>submitted</option>
                        </select>
                    </div>
        
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="ETR">ETR</label>
                        <input required class="form-control" id="ETR" type="date" formControlName="ETR">
                    </div>
                </div>
        
                <div class="row">
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="nivoNapona">Nivo Napona</label>
                        <input required class="form-control" id="nivoNapona" type="number" formControlName="nivoNapona" placeholder="2.5">
                    </div>
            
                    <div class="form-group col-md-6" style="text-align: center;">
                        <label for="planiranoVremeRada">Planirano vreme rada</label>
                        <input required class="form-control" id="planiranoVremeRada" type="date" formControlName="planiranoVremeRada">
                    </div>
                </div>
        
                <div class="row">
                    <div class="form-group col-md-6" style="text-align: center;">
                        <input type="checkbox" class="form-check-input" id="potvrdjen" formControlName="potvrdjen">
                        <label class="form-check-label" for="potvrdjen">Potvrdjen</label>
                    </div>
        
                    <div class="form-group col-md-6" style="text-align: center;">
                        <button [disabled]="!dodajIncidentForm.valid" class="btn btn-danger" type="submit">Prijavi Incident</button>
                    </div>
                </div>
                <div style="color: blueviolet;" *ngIf="dodajIncidentForm.status === 'INVALID'">
                    Forma nije dobro popunjena.
                </div>
            </form>

            <div class="collapse" id="opremaTable">
                <table class="table table-striped table-bordered table-sm">
                    <thead>
                        <th>IdOpreme</th>
                        <th>Naziv</th>
                        <th>IdTipOpreme</th>
                        <th>Kordinate</th>
                        <th>Adresa</th>
                        <th>Prijavi</th>
                        <th>Lokacija</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of Oprema">
                            <td>{{ item.idOpreme }}</td>
                            <td>{{ item.Naziv }}</td>
                            <td>{{ item.idTipOpreme }}</td>
                            <td>{{ item.Kordinate}}</td>
                            <td>{{ item.Adresa}}</td>
                            <td class="text-center align-middle"><input type="checkbox" (change)="addId(item.idOpreme)"></td>
                            <td>
                                <button class="btn btn-primary-outline w-100" >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"/>
                                    </svg>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <form class="collapse" id="dodajResenjeForm" [formGroup]="dodajResenjeForm">
                <div class="form-group" style="text-align: center;">
                    <label for="uzrok">Uzrok</label>
                    <input required class="form-control" id="uzrok" type="text" formControlName="uzrok" placeholder="Ljudski faktor">
                </div>
                <div class="form-group" style="text-align: center;">
                    <label for="poduzrok">Poduzrok</label>
                    <input required class="form-control" id="poduzrok" type="text" formControlName="poduzrok" placeholder="Postavljena pogresna oprema">
                </div>
                <div class="form-group" style="text-align: center;">
                    <label for="tipKonstrukcije">Tip Konstrukcije</label>
                    <select required id="tipKonstrukcije" class="form-control" formControlName="tipKonstrukcije">
                    <option>Podzemni</option>
                    <option>Nadzemni</option>
                    </select>
                </div>
                <div class="form-group" style="text-align: center;">
                    <label for="tipMaterijala">Tip Materijala</label>
                    <select required id="tipMaterijala" class="form-control" formControlName="tipMaterijala">
                    <option>Metal</option>
                    <option>Plastika</option>
                    </select>
                </div>
                <div style="color: blueviolet;" *ngIf="dodajResenjeForm.status === 'INVALID'">
                    Forma nije dobro popunjena.
                </div>
            </form>
            
            <div class="collapse" id="pozivTable">
                <table class="table table-striped table-bordered table-sm">
                    <thead>
                        <th>IdPoziva</th>
                        <th>IdRazloga</th>
                        <th>Komentar</th>
                        <th>Kvar</th>
                        <th>idPotrosaca</th>
                        <th>&nbsp;</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of Pozivi">
                            <td>{{ item.idPoziva }}</td>
                            <td>{{ item.IdRazloga }}</td>
                            <td>{{ item.Komentar }}</td>
                            <td>{{ item.Kvar }}</td>
                            <td>{{ item.idPotrosaca }}</td>
                            <!-- <td><input type="checkbox" (change)="addId(item.idOpreme)"></td> -->
                        </tr>
                    </tbody>
                </table>
            </div>
            
        
            <form class="collapse" id="dodajPozivForm" [formGroup]="dodajPozivForm">
                <div class="form-group" style="text-align: center;">
                    <label for="razlog">Razlog</label>
                    <input required class="form-control" id="razlog" type="text" formControlName="razlog" placeholder="Nema struje">
                </div>
                <div class="form-group" style="text-align: center;">
                    <label for="komentar">Komentar</label>
                    <input class="form-control" id="komentar" type="text" formControlName="komentar" placeholder="Potrosac je bez struje">
                </div>
                <div class="form-group" style="text-align: center;">
                    <label for="kvar">Kvar</label>
                    <input required class="form-control" id="kvar" type="kvar" formControlName="kvar">
                </div>
                <div class="form-group" style="text-align: center;">
                    <label for="idPotrosaca">Potrosac</label>
                    <input class="form-control" id="idPotrosaca" type="number" formControlName="idPotrosaca">
                </div>
            </form>
            
            <div class="collapse" id="ekipaTable">
                <table class="table table-striped table-bordered table-sm">
                    <thead>
                        <th>IdEkipe</th>
                        <th>Naziv</th>
                        <th>&nbsp;</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of Ekipe">
                            <td>{{ item.idEkipe }}</td>
                            <td>{{ item.Naziv }}</td>
                            <td><input type="button" value="Dodeli"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="collapse" id="slika">
                <label class="image-upload-container btn btn-bwm">
                    <span>Select Image </span>
                    <input type="file" accept="image/*">
                </label>
            </div>
            
        </div>
        
    </div>
</div>
