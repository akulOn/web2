<div class="container w-50" style="margin-top: 100px;">
    <form [formGroup]="dodajIncidentForm" (ngSubmit)="onSubmit()">
        <div class="row">
            <div class="form-group col-md-6" style="text-align: center;">
                <label for="tipIncidenta">Tip Incidenta</label>
                <select required id="tipIncidenta" class="form-control" formControlName="tipIncidenta">
                  <option selected>Planirani</option>
                  <option>Neplanirani</option>
                </select>
            </div>

            <div class="form-group col-md-6" style="text-align: center;">
                <label for="ETA">ETA</label>
                <input required class="form-control" id="ETA" type="date" formControlName="ETA">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6" style="text-align: center;">
                <label for="prioritet">Prioritet</label>
                <input required class="form-control" id="prioritet" type="number" formControlName="prioritet" placeholder="0">
            </div>

            <div class="form-group col-md-6" style="text-align: center;">
                <label for="ATA">ATA</label>
                <input required class="form-control" id="ATA" type="date" formControlName="ATA">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6" style="text-align: center;">
                <label for="statusIncidenta">Status</label>
                <select id="statusIncidenta" class="form-control" formControlName="statusIncidenta">
                  <option selected>Resen</option>
                  <option>drafted</option>
                  <option>submitted</option>
                </select>
            </div>

            <div class="form-group col-md-6" style="text-align: center;">
                <label for="ETR">ETR</label>
                <input required class="form-control" id="ETR" type="date" formControlName="ETR">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6" style="text-align: center;">
                <label for="nivoNapona">Nivo Napona</label>
                <input required class="form-control" id="nivoNapona" type="number" formControlName="nivoNapona" placeholder="2.5">
            </div>
    
            <div class="form-group col-md-6" style="text-align: center;">
                <label for="planiranoVremeRada">Planirano vreme rada</label>
                <input required class="form-control" id="planiranoVremeRada" type="date" formControlName="planiranoVremeRada">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6" style="text-align: center;">
                <input type="checkbox" class="form-check-input" id="potvrdjen" formControlName="potvrdjen">
                <label class="form-check-label" for="potvrdjen">Potvrdjen</label>
            </div>

            <div class="form-group col-md-6" style="text-align: center;">
                <button [disabled]="!dodajIncidentForm.valid" class="btn btn-danger" type="submit">Prijavi Incident</button>
            </div>
        </div>
        <div style="color: blueviolet;" *ngIf="dodajIncidentForm.status === 'INVALID'">
            Forma nije dobro popunjena.
        </div>
    </form>

    <table class="table table-striped table-bordered table-sm">
        <thead>
        <th>IdOpreme</th>
        <th>Naziv</th>
        <th>IdTipOpreme</th>
        <th>Kordinate</th>
        <th>Adresa</th>
        <th>Prijavi</th>
        </thead>
        <tbody>
        <tr *ngFor="let item of Oprema">
            <td>{{ item.idOpreme }}</td>
            <td>{{ item.Naziv }}</td>
            <td>{{ item.idTipOpreme }}</td>
            <td>{{ item.Kordinate}}</td>
            <td>{{ item.Adresa}}</td>
            <td><input type="checkbox" (change)="addId(item.idOpreme)"></td>
        </tr>
        </tbody>
    </table>

    <form [formGroup]="dodajResenjeForm">
        <div class="form-group col-md-6" style="text-align: center;">
            <label for="uzrok">Uzrok</label>
            <input required class="form-control" id="uzrok" type="text" formControlName="uzrok" placeholder="Ljudski faktor">
        </div>
        <div class="form-group col-md-6" style="text-align: center;">
            <label for="poduzrok">Poduzrok</label>
            <input required class="form-control" id="poduzrok" type="text" formControlName="poduzrok" placeholder="Postavljena pogresna oprema">
        </div>
        <div class="form-group col-md-6" style="text-align: center;">
            <label for="tipKonstrukcije">Tip Konstrukcije</label>
            <select required id="tipKonstrukcije" class="form-control" formControlName="tipKonstrukcije">
            <option selected>Podzemni</option>
            <option>Nadzemni</option>
            </select>
        </div>
        <div class="form-group col-md-6" style="text-align: center;">
            <label for="tipMaterijala">Tip Materijala</label>
            <select required id="tipMaterijala" class="form-control" formControlName="tipMaterijala">
            <option selected>Metal</option>
            <option>Plastika</option>
            </select>
        </div>
        <div style="color: blueviolet;" *ngIf="dodajResenjeForm.status === 'INVALID'">
            Forma nije dobro popunjena.
        </div>
    </form>

    <table class="table table-striped table-bordered table-sm">
        <thead>
        <th>IdPoziva</th>
        <th>IdRazloga</th>
        <th>Komentar</th>
        <th>Kvar</th>
        <th>idPotrosaca</th>
        <th>Prijavi</th>
        </thead>
        <tbody>
        <tr *ngFor="let item of Pozivi">
            <td>{{ item.idPoziva }}</td>
            <td>{{ item.IdRazloga }}</td>
            <td>{{ item.Komentar }}</td>
            <td>{{ item.Kvar }}</td>
            <td>{{ item.idPotrosaca }}</td>
            <!-- <td><input type="checkbox" (change)="addId(item.idOpreme)"></td> -->
        </tr>
        </tbody>
    </table>
</div>
